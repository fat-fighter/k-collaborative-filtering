\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[margin = 0.7in]{geometry}
\usepackage{amsmath, amssymb, mathtools, bm, amsthm}
\usepackage{scrextend}
\usepackage{tikz,forest}
\usepackage{xspace}
\usepackage{algorithm, algpseudocode}
\usepackage{mdframed}
\usepackage[colorlinks]{hyperref}
\usepackage{framed}
\usepackage{float}
\usepackage{graphics}
\usepackage{xifthen}

\usetikzlibrary{arrows,automata}

% Set paragraph indent to zero
\setlength\parindent{0pt}

% Left Rule box environment
\newmdenv[
	topline=false,
	bottomline=false,
	rightline=false,
	skipabove=\topsep,
	skipbelow=\topsep]
{siderule}

\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,
    urlcolor=cyan,
}

\def\mydefgreek#1{\expandafter\def\csname v#1\endcsname{\text{\boldmath$\mathbf{\csname #1\endcsname}$}}}
\def\mydefallgreek#1{\ifx\mydefallgreek#1\else\mydefgreek{#1}%
   \lowercase{\mydefgreek{#1}}\expandafter\mydefallgreek\fi}
\mydefallgreek
{alpha}{beta}{gamma}{delta}{epsilon}{zeta}{eta}{theta}{iota}{kappa}{lambda}{mu}{nu}{xi}{omicron}{pi}{rho}{sigma}{tau}{upsilon}{phi}{chi}{psi}{omega}{Theta}{Lambda}{Sigma}{Delta}{Gamma}\mydefallgreek

\newcommand{\vzero}{\vec{0}}
\newcommand{\vone}{\vec{1}}


% Change line number format in algorithms
\algrenewcommand\alglinenumber[1]{\footnotesize #1 \quad}

\newcommand{\set}[1]{\left\{ #1 \right\}}

\newcommand{\brac}[1]{\left[ #1 \right]}

\newcommand{\para}[1]{\left( #1 \right)}

\newcommand{\angl}[1]{\left\langle #1 \right\rangle}

\newcommand{\bt}[1]{\textbf{#1}}
\newcommand{\st}[1]{\textsc{#1}}

\newcommand{\mt}[1]{\,\text{#1}\,}

\newcommand{\sbr}{\vspace{1.5mm}\xspace}
\newcommand{\br}{\vspace{2.5mm}\xspace}
\newcommand{\lbr}{\vspace{3mm}\xspace}
\newcommand{\nbr}{\vspace{5mm}\xspace}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\I}{\mathbb{I}}
\newcommand{\E}[2][]{%
	\, \mathbb{E}\ifthenelse{\equal{#1}{}}{}{_{#1}}\brac{#2}
}
\newcommand{\is}[1]{\, \mathbb{I} \brac{#1}}
\newcommand{\bigO}[1]{\mathcal{O}(#1)}
\newcommand{\iden}[1]{\vI_{#1}}
\newcommand{\trace}[1]{\func{\mt{Tr}}{#1}}


% Functions
\newcommand{\func}[3][]{%
	\, #2\ifthenelse{\equal{#1}{}}{}{_{#1}} \para{#3}
}
\newcommand{\funcinv}[3][]{%
	\ifthenelse{\equal{#1}{}}{\func{#2^{-1}}{#3}}{\func{\para{#2^#1}^{-1}}{#3}}%
}

\newcommand{\sigmoid}[1]{\func{\sigma}{#1}}
\newcommand{\ND}[1]{\func{\mathcal{N}}{#1}}
\newcommand{\D}{\mathcal{D}}
\newcommand{\prob}[2][]{%
	\ifthenelse{\equal{#1}{}}{\func{p}{#2}}{\func{p_{#1}}{#2}}
}
\newcommand{\aprob}[2][]{%
	\ifthenelse{\equal{#1}{}}{\func{\tilde{p}}{#2}}{\func{\tilde{p}_{#1}}{#2}}
}

\newcommand{\der}[2]{\frac{d \para{#1}}{d \para{#2}}}
\newcommand{\derp}[2]{\frac{\delta \para{#1}}{\delta \para{#2}}}

\newcommand{\abs}[1]{\left| {#1} \right|}
\newcommand{\norm}[1]{\left\| {#1} \right\|}
\newcommand{\ceil}[1]{\left\lceil #1 \right\rceil}
\newcommand{\floor}[1]{\left\lfloor #1 \right\rfloor}
\newcommand{\dotp}[2]{\langle{#1},{#2}\rangle}
\renewcommand{\exp}[1]{e^{#1}}
\newcommand{\fact}[1]{\para{#1}!}
\renewcommand{\log}[2][]{%
	\ifthenelse{\equal{#1}{}}{\func{log}{#2}}{\func{log_#1}{#2}}
}

\newcommand{\pipe}{\,\big|\,}
\newcommand{\eps}{\epsilon}
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}

\newcommand{\eq}{\quad = \quad}
\newcommand{\qsim}{\quad \sim \quad}
\newcommand{\qprop}{\quad \propto \quad}
\newcommand{\qlt}{\quad < \quad}
\newcommand{\qgt}{\quad > \quad}
\newcommand{\qle}{\quad \le \quad}
\newcommand{\qge}{\quad \ge \quad}

%\renewcommand{\forall}{\forall\,}

\newcommand{\pr}[1]{#1^{\prime}}

\newcommand{\argmin}{\mathop{\arg\min}}
\newcommand{\argmax}{\mathop{\arg\max}}

% Vectors
\def\LatinUpper{A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z}
\def\LatinLower{a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z}

\renewcommand{\vec}[1]{{\mathbf{#1}}}
\newcommand{\genLatinVec}[1]{\expandafter\newcommand\csname v#1\endcsname{{\vec #1}}}
\@for\i:=\LatinLower\do{%
	\expandafter\genLatinVec\i
}

\newcommand{\genLatinVecU}[1]{\expandafter\newcommand\csname v#1\endcsname{{\vec #1}}}
\@for\i:=\LatinUpper\do{%
	\expandafter\genLatinVecU\i
}


\newenvironment{margin}
{
	\begin{addmargin}{1.5em}
}
{
	\end{addmargin}
}


\floatstyle{plain}
\newfloat{algofloat}{tbhp}

\newcounter{algo}
\newenvironment{algo}[3][0.8\textwidth]
{
	\refstepcounter{algo}
    \begin{algofloat}[#2]
	\begin{center}
    \begin{minipage}{#1}
    \begin{framed}
    \begin{center}
    Algorithm \thealgo: #3
	\end{center}

    \nbr
}
{
	\end{framed}
	\end{minipage}
	\end{center}
	\end{algofloat}
}

\newtheoremstyle{theorems}{\topsep}{\topsep}{\itshape}{0pt}{\bfseries}{~}{~}{\thmname{#1} \thmnumber{#2} \thmnote{(#3)}}
\theoremstyle{theorems}

\newcommand{\note}[1]{\textbf{\textsc{Note } } \textit{#1}}
\newtheorem{theorem}{\bt{\st{Theorem}}}[section]
\newtheorem{corollary}{\bt{\st{Corollary}}}[theorem]
\newtheorem{lemma}[theorem]{\bt{\st{Lemma}}}
\newtheorem{definition}{\bt{\st{Definition}}}
